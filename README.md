# Проект для удобства жизни студента
## installing:
    
    git clone https://github.com/DaniinXorchenabo/Ilya_develop_front.git
    cd Ilya_develop_front
    pip install -r requirements.txt
    
## Run:

    python app/web/main_web.py
    python app/bot/main.py
    
## Наши web-ресурсы:

  - [Pony ORM Editor][Pony ORM Editor] - Наша база данных
  - [trello.com][trello.com] - Наше трелло
  - [Figma][Figma] - Наш дизайн

# API

### 1) Авторизация пользователя
```
https://<имя сервера>/api/log_in/<введённый логин>/<введённый пароль>/
```
answer: json{
* `answer` : true,
* `group_name` : "имя группы или None, в случае, если такого пользователя нет",
* `name` : "ФИО пользователя",
* `photo` : "ну а что, а вдруг, а пусть будет",
* `session_key` : "большой набор из цифорок и букавок, который будет отправляться каждый раз для подтверждения авторизации пользователя."

  }

### 2) Получить все новости группы
```
https://<имя сервера>/api/<session_key>/news/<имя группы>
```
answer: json{
* `first` : <новость>,
* `second` : <новость>,
* `third` :<новость>
* ...

  }

### 3) Домашка
#### 3.1) Получить всю домашку
```
https://<имя сервера>/api/<session_key>/homework/<имя группы>/all/ 
```
answer: json{
* `<дд.мм.гггг>` : {
  - `<Предмет1>` : {домашка1, домашка2, ..., домашка}, 
  - `<Предмет2>` : {домашка1, домашка2, ..., домашка}, 
  - ...
  - `<Предмет>` : {домашка1, домашка2, ..., домашка}, 
* `<дд.мм.гггг>` : {
  - `<Предмет1>` : {домашка1, домашка2, ..., домашка}, 
  - `<Предмет2>` : {домашка1, домашка2, ..., домашка}, 
  - ...
  - `<Предмет>` : {домашка1, домашка2, ..., домашка}, 
* ... ,
* `<дд.мм.гггг>` : {
  - `<Предмет1>` : {домашка1, домашка2, ..., домашка}, 
  - `<Предмет2>` : {домашка1, домашка2, ..., домашка}, 
  - ...
  - `<Предмет>` : {домашка1, домашка2, ..., домашка}, 

  }

#### 3.2) Получить домашку по определённому предмету
```
https://<имя сервера>/api/<session_key>/homework/<имя группы>/subject/<предмет> 
```
answer: json{
* `<дд.мм.гггг>`  : {домашка1, домашка2, ..., домашка}, 
* `<дд.мм.гггг>`  : {домашка1, домашка2, ..., домашка}, 
* ...
* `<дд.мм.гггг>`  : {домашка1, домашка2, ..., домашка}, 

  }

#### 3.3) получить домашку на определенное число
```
https://<имя сервера>/api/<session_key>/homework/<имя группы>/day/<дд.мм.гггг> 
```
answer: json{
* `<Предмет1>` : {домашка1, домашка2, ..., домашка}, 
* `<Предмет2>` : {домашка1, домашка2, ..., домашка}, 
* ...
* `<Предмет>` : {домашка1, домашка2, ..., домашка}, 

  }
  
### 4) Получить учителей группы и информацию о них
```
https://<имя сервера>/api/<session_key>/teachers/<имя группы>  
```
answer: json{
* `<ФИО>` : {инфа1, инфа2, ..., инфа}, 
* `<ФИО>` : {инфа1, инфа2, ..., инфа}, 
* ... , 
* `<ФИО>` : {инфа1, инфа2, ..., инфа}, 

  }

### 5)При открытии расписания посылает:
```
https://<имя сервера>/api/<session_key>/<имя группы> /schedule/<время прошлого запроса расписания в формате мм.чч.дд.мм.гг>
```
answer: json {
* `week1` : {
  - `<week day1>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  - `<week day2>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  - ...
  - `<week day3>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  
  },
* `week2` : {
  - `<week day1>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  - `<week day2>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  - ...
  - `<week day3>`: {
    - `<время1>`: предмет1,
    - `<время2>`: предмет2,
    - ...
    - `<время3>`: предмет3,
    
    },
  
  },
    
} - если расписание изменилось

json{
* `answer` : false

  } - если расписание не изменилось

### 6) получает образовательные материалы
```
https://<имя сервера>/api/<session_key>/educational_materials/<имя группы>  
```
answer: json{
* `<предмет>` : {инфа1, инфа2, ..., инфа}, 
* `<предмет>` : {инфа1, инфа2, ..., инфа}, 
* ... ,
* `<предмет>` : {инфа1, инфа2, ..., инфа}, 

  }

### 7) Выход из пользователя
```
https://<имя сервера>/api/<session_key>/log_out/ 
```
answer: {
* `answer` : true/false

  } true, если успешно и false, если ошибка. Удаляет <session_key> с сервера

### 8) Регистрация пользователя
```
https://<имя сервера>/api/sign_in/<введённый логин>/<введённый пароль>?id=<id от vk или ссылка на профиль от вк>
```
> параметр id может быть опущен, тогда оно будет назначено автоматически.

answer: {
* `answer` : true/false

  } true, если успешно и false, если ошибка или такой пользователь уже есть

### 9) Регистрация группы
```
https://<имя сервера>/api/reg_group/<Название группы>/
```
answer: {
* `answer` : true/false

  } true, если успешно и false, если ошибка или такая группа уже есть

### 10) Настройки пользователя
#### .1) Получить настройки пользователя
```
https://<имя сервера>/api/<session_key>/settings_user/get
```
answer: {
* `<какой-то параметр>` : <какое-то значение>

  }

#### 10.2) Установить настройки пользователя
```
https://<имя сервера>/api/<session_key>/settings_user/set?<param1>=<value1_1>,<value1_2>&<param2>=<value2>
```
answer: {
* `answer` : true/false

  }  true, если успешно и false, если ошибка

### 11) Настройки Админки
#### 11.1) Установить настройки для администратора
```
https://<имя сервера>/api/<session_key>/settings_admin/set?<param1>=<value1_1>,<value1_2>&<param2>=<value2>
```
answer: {
* `answer` : true/false

  }  true, если успешно и false, если ошибка

#### 11.2) Получить настройки для администратора
```
https://<имя сервера>/api/<session_key>/settings_admin/get
```
answer: {
* `<какой-то параметр>` : <какое-то значение>

  }

### 12) Пользовательские настройки для бота
#### 12.1) Установить настройки для бота (для личного пользования)
```
https://<имя сервера>/api/<session_key>/settings_bot/set?<param1>=<value1_1>,<value1_2>&<param2>=<value2>
```
answer: {
* `answer` : true/false

  }  true, если успешно и false, если ошибка

#### 12.2) Получить настройки для бота (для личного пользования)
```
https://<имя сервера>/api/<session_key>/settings_bot/get/
```
answer: {
* `<какой-то параметр>` : <какое-то значение>

  }

### 13) Настройки старосты
#### 13.1) Установить настройки для старосты
```
https://<имя сервера>/api/<session_key>/settings_group_senior/set?<param1>=<value1_1>,<value1_2>&<param2>=<value2>
```
answer: {
* `answer` : true/false

  }  true, если успешно и false, если ошибка

#### 13.2) Получить настройки для старосты
```
https://<имя сервера>/api/<session_key>/settings_group_senior/get/
```
answer: {
* `<какой-то параметр>` : <какое-то значение>

  }   

[Pony ORM Editor]: https://editor.ponyorm.com/user/DaniinXorchenabo/university_timesheet_bot/designer
[trello.com]: https://trello.com/b/eLvWkKFq/создание-сайта
[Figma]: https://www.figma.com/file/2os4UXkrOKU4L3C4l7lkxV/20ВП1?node-id=17%3A121
